# depth first search , stack
# undirected graph , there can be many not-connected graph component

# <svg id="svg" viewbox="3.9300003051757812,13.979999542236328,294.6400146484375,124.69000244140625" style="height:124.69000244140625"><path d="M 28.61,31.05 L 28.54,31 L 28.02,30.97 L 27.93,30.75 L 27.89,30.69 L 27.89,30.69 L 27.83,30.69 L 27.61,31 L 27.27,31.7 L 26.83,33.36 L 26.36,35.81 L 26.24,38.32 L 26.14,40.92 L 26.14,43.62 L 26.39,46.22 L 26.55,48.03 L 26.71,50.24 L 26.83,51.22 L 26.83,51.77 L 26.86,51.92 L 27.02,51.83 L 27.74,51.07" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 36.92,26.55 L 36.49,26.4 L 35.96,25.91 L 35.21,25.36 L 34.18,24.9 L 32.61,24.5 L 30.27,24.38 L 27.21,24.72 L 23.77,25.64 L 20.96,27.14 L 17.33,30.69 L 15.58,33.94 L 14.3,38.6 L 13.93,43.31 L 14.3,47.82 L 15.46,51.77 L 17.3,54.62 L 19.83,56.33 L 22.36,56.79 L 26.58,55.94 L 29.08,54.65 L 31.64,52.51 L 33.64,50.08 L 34.99,47.57 L 35.74,45.03 L 35.99,42.27 L 35.93,39.48 L 35.55,37.58 L 34.52,35.04 L 33.55,33.51 L 32.18,31.89 L 30.83,30.72 L 29.99,30.02 L 29.8,29.62 L 30.14,29.68" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 43.57,40.9 L 41.93,41.32 L 41.27,41.48 L 41.55,41.57 L 43.21,41.72 L 48.02,41.48 L 52.3,41.05 L 58.21,40.43 L 63.96,39.85 L 68.27,39.36 L 70.61,39.12 L 71.58,38.96 L 71.86,38.84 L 71.86,38.84" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 82.6,35.84 L 82.96,35.29 L 84.64,34.34 L 87.74,33.48 L 90.64,33.54 L 92.14,34.74 L 91.68,36.85 L 89.77,39.3 L 87.96,41.51 L 87.39,42.7 L 88.3,43.83 L 90.11,44.02 L 93.27,43.65 L 96.89,42.7 L 100.33,41.41 L 100.93,41.17" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 95.04,27.26 L 92.43,27.17 L 87.14,27.66 L 83.64,29.01 L 79.93,31.95 L 77.43,35.9 L 76.77,40.16 L 78.11,43.93 L 80.83,46.9 L 84.61,48.98 L 89.3,50.21 L 94.43,49.9 L 99.11,48.43 L 102.27,46.65 L 105.55,43.19 L 106.61,40.43 L 106.58,36.42 L 105.02,32.53 L 102.3,29.44 L 99.21,27.41 L 96.02,26.68 L 93.68,27.05" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 115.01,39.37 L 114.77,39.58 L 114.52,39.39 L 114.3,39.33 L 113.99,39.33 L 113.68,39.45 L 113.52,39.61 L 113.43,39.76 L 113.43,39.91 L 113.43,39.91 L 113.3,39.97 L 112.55,39.97 L 112.14,39.97 L 111.93,39.97 L 111.89,39.97 L 111.89,39.97 L 111.86,39.97 L 111.93,39.97 L 112.27,39.97 L 113.52,40.01 L 115.36,39.82 L 117.52,39.52 L 119.11,39.15 L 120.99,38.69 L 121.8,38.5 L 122.24,38.38 L 122.46,38.35 L 122.96,38.35 L 124.05,38.32 L 124.83,38.26" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 135.94,33.12 L 135.71,33.42 L 135.46,34.06 L 134.86,35.78 L 133.83,38.14 L 132.89,40.56 L 132.52,42.55 L 133.11,43.93 L 134.27,44.51 L 136.71,44.39 L 138.39,43.62 L 140.08,42.39 L 140.86,41.32 L 141.08,40.86 L 141.08,41.02 L 141.08,42.03 L 141.3,43.53 L 141.74,44.75 L 142.99,46.1 L 143.8,46.32" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 144.98,28.36 L 144.21,28.39 L 140.61,27.66 L 136.27,28.21 L 132.58,29.68 L 127.86,33.45 L 125.8,36.73 L 124.61,41.29 L 125.02,45.64 L 126.86,49.44 L 130.05,52.38 L 134.18,54.28 L 138.68,54.65 L 143.55,53.3 L 148.05,50.76 L 151.33,47.45 L 152.86,44.33 L 153.36,39.09" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 147.63,23.98 L 147.43,24.2 L 147.3,24.1 L 147.14,24.1 L 146.77,24.1 L 146.33,24.17 L 146.08,24.32 L 146.08,24.5 L 146.3,24.72 L 146.55,25.02 L 146.61,25.12" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 143.89,28.33 L 143.68,28.64 L 143.71,28.73 L 143.99,28.88 L 144.49,29.04 L 145.21,29.25 L 146.27,29.62 L 147.39,30.08 L 149.33,31.33 L 150.52,32.5 L 151.83,34.18 L 152.83,35.96 L 153.39,37.65 L 153.52,39.18 L 153.52,40.5 L 153.43,41.6 L 153.3,42.49 L 153.3,42.85 L 153.39,42.95" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 93.26,54.19 L 93.11,54.1 L 93.27,53.82 L 93.36,53.73 L 93.36,54.07 L 93.11,55.81 L 92.52,59.09 L 91.86,63.84 L 90.96,70.4 L 90.14,76.56 L 89.33,85.04 L 89.21,89.3 L 89.24,92.73 L 89.27,94.23 L 89.08,94.48 L 88.3,94.05" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 77.45,102.02 L 77.05,102.51 L 77.18,102.69 L 78.8,102.32 L 81.61,101.59 L 84.11,101.31 L 85.46,101.83 L 85.93,103.73 L 85.96,106.64 L 86.21,109.8 L 86.68,112.62 L 86.89,114.55 L 86.71,115.22" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 82,112.83 L 81.96,112.74 L 83.58,112.06 L 86.96,110.93 L 90.68,109.8 L 93.11,109.09" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 87.6,102.32 L 85.49,101.86 L 81.99,101.25 L 78.36,101.56 L 75.11,103.15 L 72.52,105.97 L 70.93,110.2 L 70.86,115.46 L 72.43,120.73 L 75.52,125.05 L 78.86,127.47 L 83.86,128.67 L 89.18,127.51 L 94.18,124.5 L 98.21,120.27 L 99.99,115.37 L 99.33,110.5 L 96.61,106.12 L 92.96,102.57 L 90.02,100.54 L 86.33,98.74 L 85.24,98.34" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 102.2,118.35 L 101.68,118.59 L 101.93,118.38 L 103.49,117.95 L 105.74,117.43 L 111.11,116.32 L 115.93,115.65 L 122.93,114.85 L 130.18,114.18 L 135.83,113.6 L 138.77,113.11 L 139.55,112.62 L 138.55,112.03" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 89.79,105.48 L 89.52,105.75 L 89.27,105.84 L 89.05,105.97 L 88.8,106.09 L 88.18,106.33 L 87.08,106.83 L 85.14,107.68 L 83.27,108.54 L 80.46,109.83 L 79.24,110.38 L 78.74,110.53 L 79.3,110.01 L 79.86,109.67" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 152.88,103.63 L 153.02,103.64 L 153.24,103.33 L 153.3,103.18 L 153.3,103.18 L 153.18,103.33 L 152.49,104.13 L 151.77,105.57 L 151.11,108.72 L 151.18,111.21 L 151.71,114.42 L 152.83,117.43 L 154.52,119.36 L 156.52,120.18 L 158.24,119.97 L 159.33,119.14 L 159.61,118.22 L 158.8,117.12 L 157.49,116.9 L 155.49,117.36 L 153.93,117.98 L 153.14,118.56 L 153.08,118.65" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 165.66,102.17 L 164.11,100.51 L 162.55,99.72 L 159.77,99.66 L 156.39,101.03 L 152.8,103.76 L 149.61,107.47 L 147.58,112 L 146.49,116.69 L 146.24,120.06 L 146.93,124.14 L 148.3,126.03 L 151.24,127.41 L 155.14,127.54 L 159.77,126.52 L 164.74,124.59 L 168.96,122.17 L 171.77,119.39 L 173.05,116.05 L 172.89,112.16 L 171.39,108.17 L 169.43,105.08 L 165.3,101.07 L 162.27,98.98 L 159.8,97.36" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 155.64,93.25 L 155.46,93.9 L 155.55,94.63 L 155.8,95.67 L 155.96,96.38 L 155.93,96.9 L 155.93,97.05 L 155.83,96.99 L 155.71,96.47 L 155.68,95.03 L 155.68,92.3 L 155.55,89.21 L 155.43,82.96 L 155.14,77.54 L 154.64,70.86 L 153.99,65.19 L 153.43,60.32 L 153.08,56.15 L 152.77,53.42 L 152.55,52.17 L 152.55,51.98 L 152.55,52.96 L 152.58,53.27" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 210.48,58.14 L 209.55,57.13 L 209.49,55.14 L 210.55,53.12 L 212.46,51.31 L 214.61,50.33 L 216.33,50.24 L 217.11,51.1 L 216.61,53 L 214.77,55.26 L 212.64,57.04 L 211.61,57.96 L 211.61,58.85 L 212.99,59.25 L 215.55,59.92 L 217.61,61.3 L 218.24,63.11 L 217.24,64.64 L 214.89,65.74 L 211.96,66.2 L 210.02,66.17 L 208.3,65.59 L 208.05,64.94 L 208.68,63.96 L 208.93,63.75" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 219.95,43.22 L 218.64,43.01 L 214.36,42.52 L 210.86,43.34 L 205.96,46.5 L 203.43,50.02 L 201.21,55.91 L 200.24,62.03 L 200.71,67.46 L 202.49,72.17 L 205.58,75.94 L 209.74,78.27 L 213.27,79.04 L 218.83,78.06 L 222.49,76.43 L 226.3,73.52 L 228.43,69.42 L 228.3,64.09 L 226.36,58.48 L 223.58,53.76 L 221.08,50.54 L 219.49,48.92 L 217.8,48.06" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 234.35,62.34 L 234.29,62.34 L 233.93,62.62 L 233.68,62.62 L 233.46,62.62 L 232.99,62.58 L 232.08,62.58 L 231.21,62.58 L 230.86,62.58 L 230.68,62.58 L 230.74,62.65 L 230.96,62.74 L 232.36,63.11 L 234.24,63.14 L 237.49,63.04 L 241.3,62.74 L 245.18,62.43 L 248.43,62.13 L 250.64,61.88 L 251.86,61.73 L 252.36,61.67 L 252.64,61.64" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 267.04,55.51 L 266.86,55.75 L 267.27,55.84 L 268.83,56.12 L 270.86,56.37 L 272.8,56.49 L 274.27,56.49 L 275.74,56.33 L 276.74,56.06 L 277.01,55.75" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 268.1,56.46 L 267.14,56.83 L 265.33,57.13 L 264.02,57.71 L 263.11,58.57 L 262.61,59.52 L 262.05,60.72 L 261.74,61.33 L 261.61,61.76 L 262.11,62 L 263.52,62.13 L 265.77,62.06 L 268.74,62.13 L 271.64,62.52 L 273.33,63.23 L 274.43,64.82 L 274.05,66.05 L 272.46,67.43 L 269.61,68.47 L 266.83,68.87 L 265.36,68.8 L 264.77,68.41 L 264.93,67.73 L 266.02,66.81 L 266.96,66.2" fill="none" stroke="#6190e8" stroke-width="2"></path><path d="M 288.57,55.94 L 288.46,55.88 L 288.36,54.04 L 287.49,52.11 L 285.77,50.12 L 283.8,48.58 L 280.18,46.96 L 277.3,46.65 L 273.14,47.2 L 269.05,48.92 L 265.11,51.52 L 261.74,54.77 L 258.77,58.57 L 256.46,62.71 L 255.18,66.54 L 254.77,70 L 255.27,73.19 L 256.46,75.3 L 259.27,77.38 L 263.43,78.79 L 268.33,79.5 L 273.05,79.28 L 277.36,78.3 L 281.02,76.71 L 283.99,74.63 L 286.14,71.84 L 287.21,69.05 L 287.71,64.61 L 287.39,61.97 L 286.68,59.4 L 285.74,57.56 L 284.58,56.58 L 284.27,56.49" fill="none" stroke="#6190e8" stroke-width="2"></path></svg>  

def dfs(node,adj,vis,storedfs):
    storedfs.append(node)
    vis[node] = True
    for elem in graph_[node]:
        if not vis[elem]:
            dfs(elem,adj,vis,storedfs)


graph_ = {1:[2],2:[1,4,7],3:[5] ,4:[2,6] ,5:[3],6:[4,7],7:[2,6] }
storedfs=[]
n=len(graph_)
vis=[0]*(n+1)
for i in range(1,n+1):
    if not vis[i]:
        dfs(i,graph_,vis,storedfs)

print(storedfs)

# tc --> O(V+E) + O(V) for dfs and for forloop
# sc --> O(V) for storing visited array, storedfs, graph_

